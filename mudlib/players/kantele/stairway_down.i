# 1 "players/kantele/stairway_down.c"
# 1 "/home/lp2/lpmud/mudlib/room/std.h"







































































































































































# 2 "players/kantele/stairway_down.c"

object haunt;






































reset(arg) { if (!haunt || !living(haunt)) { haunt = clone_object("obj/monster"); call_other(haunt, "set_name", "haunt"); call_other(haunt, "set_short", "A ghostly haunt is here"); call_other(haunt, "set_aggressive", 1); call_other(haunt, "set_level",12); call_other(haunt, "set_wc", 15); call_other(haunt, "set_ac", 2); call_other(haunt, "set_chance",20); call_other(haunt, "set_spell_mess1", "The haunt utters a wailing scream."); call_other(haunt, "set_spell_mess2", "The scream hurts you bad."); call_other(haunt, "set_spell_dam",40); move_object(haunt, this_object()); } if (arg) return; set_light(0); } short() { if (set_light(0)) return           "Bottom of stairway"; return "dark room"; } init() { add_action("move1", "up"); add_action("move2", "west"); add_action("move3", "east");  } move1() {  call_other(this_player(), "move_player", "up" + "#" + "players/kantele/stairway.c"); return 1; } move2() { if (call_other(this_player(), "query_level", 0) < 20) { if (haunt && present(haunt)) { write("The haunt is in the way  !\n"); return 1; } } call_other(this_player(), "move_player", "west" + "#" +           "players/kantele/cellar_west"); return 1; } move3() {  call_other(this_player(), "move_player", "east" + "#" +            "players/kantele/cellar_east"); return 1; } long(str) { if (set_light(0) == 0){ write("It is dark.\n"); return; }  write(          "You are at the bottom of the stairway,  the stairway goes up\n" +          "and you can go further into the cellar to the west.\n"); write("There are three obvious exits, " + "up" + ", " + "west" + " and " + "east" + ".\n"); }
# 50 "players/kantele/stairway_down.c"
